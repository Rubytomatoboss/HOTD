[gd_scene load_steps=9 format=4 uid="uid://butqkqwhf6vc7"]

[ext_resource type="TileSet" uid="uid://lgikbmvv2yjp" path="res://tilesets/test_tile_set.tres" id="1_fpimf"]
[ext_resource type="PackedScene" uid="uid://dvvg50n3gx6qi" path="res://scenes/player.tscn" id="2_0wj4k"]
[ext_resource type="PackedScene" uid="uid://c3iume7ejc5jr" path="res://scenes/black_frame.tscn" id="3_fvacq"]
[ext_resource type="Script" uid="uid://b0wh3qvmimnw4" path="res://scripts/test_object_2.gd" id="4_0wj4k"]
[ext_resource type="Script" uid="uid://cuefcb0neh4ua" path="res://resources/blank_object.gd" id="5_ys5p8"]
[ext_resource type="PackedScene" uid="uid://bgklx3xoev5e5" path="res://scenes/interactable.tscn" id="6_hsn05"]

[sub_resource type="Resource" id="Resource_etlrv"]
script = ExtResource("5_ys5p8")
interaction_name = "E - выйти из подземелья, F - исследовать"
name = "Лестница наверх"
description = "Лестница с кровавыми следами тянется вверх"
metadata/_custom_type_script = "uid://cuefcb0neh4ua"

[sub_resource type="RectangleShape2D" id="RectangleShape2D_tkjml"]
size = Vector2(32, 32)

[node name="dungeon" type="Node2D"]

[node name="GroundLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAADAP//AAAoAAkAAAD9//3/AAAoAAkAAAD+//3/AAAoAAkAAAD+//7/AAAoAAkAAAD///7/AAAoAAkAAAAAAP7/AAAoAAkAAAABAP7/AAAoAAkAAAACAP7/AAAoAAkAAAADAP7/AAAoAAkAAAADAP3/AAAoAAkAAAACAP3/AAAoAAkAAAABAP3/AAAoAAkAAAAAAP3/AAAoAAkAAAD///3/AAAoAAkAAAD9//7/AAAoAAkAAAD9////AAAoAAkAAAD9/wAAAAAoAAkAAAD9/wEAAAAoAAkAAAD+/wEAAAAoAAkAAAD+/wIAAAAoAAkAAAD//wIAAAAoAAkAAAD//wEAAAAoAAkAAAD9/wIAAAAoAAkAAAD+/wAAAAAoAAkAAAD+////AAAoAAkAAAD/////AAAoAAkAAAD//wAAAAAoAAkAAAAAAAEAAAAoAAkAAAAAAAAAAAAoAAkAAAAAAP//AAAoAAkAAAABAP//AAAoAAkAAAACAAAAAAAoAAkAAAABAAEAAAAoAAkAAAABAAIAAAAoAAkAAAAAAAIAAAAoAAkAAAACAAIAAAAoAAkAAAADAAIAAAAoAAkAAAADAAEAAAAoAAkAAAAEAAEAAAAoAAkAAAAEAAIAAAAoAAkAAAAFAAIAAAAoAAkAAAAFAAEAAAAoAAkAAAAFAAAAAAAoAAkAAAAFAP//AAAoAAkAAAAFAP7/AAAoAAkAAAAEAP7/AAAoAAkAAAAEAP3/AAAoAAkAAAABAAAAAAAoAAkAAAACAP//AAAoAAkAAAAEAP//AAAoAAkAAAAEAAAAAAAoAAkAAAADAAAAAAAoAAkAAAACAAEAAAAoAAkAAAAFAP3/AAAoAAkAAAAGAP//AAAoAAkAAAAGAAAAAAAoAAkAAAAHAP//AAAoAAkAAAAHAAAAAAAoAAkAAAAIAP//AAAoAAkAAAAIAAAAAAAoAAkAAAAJAP//AAAoAAkAAAAJAAAAAAAoAAkAAAAKAP//AAAoAAkAAAAKAAAAAAAoAAkAAAALAP//AAAoAAkAAAALAAAAAAAoAAkAAAAMAP//AAAoAAkAAAAMAAAAAAAoAAkAAAANAP//AAAoAAkAAAANAAAAAAAoAAkAAAAMAAEAAAAoAAkAAAAMAAIAAAAoAAkAAAAMAAMAAAAoAAkAAAAMAAQAAAAoAAkAAAAMAAUAAAAoAAkAAAAMAAYAAAAoAAkAAAAMAAcAAAAoAAkAAAAMAAgAAAAoAAkAAAAMAAkAAAAoAAkAAAANAAEAAAAoAAkAAAANAAIAAAAoAAkAAAANAAMAAAAoAAkAAAANAAQAAAAoAAkAAAANAAUAAAAoAAkAAAANAAYAAAAoAAkAAAANAAcAAAAoAAkAAAANAAgAAAAoAAkAAAANAAkAAAAoAAkAAAD5/wgAAAAoAAkAAAD5/wkAAAAoAAkAAAD6/wgAAAAoAAkAAAD6/wkAAAAoAAkAAAD7/wgAAAAoAAkAAAD7/wkAAAAoAAkAAAD8/wgAAAAoAAkAAAD8/wkAAAAoAAkAAAD9/wgAAAAoAAkAAAD9/wkAAAAoAAkAAAD+/wgAAAAoAAkAAAD+/wkAAAAoAAkAAAD//wgAAAAoAAkAAAD//wkAAAAoAAkAAAAAAAgAAAAoAAkAAAAAAAkAAAAoAAkAAAABAAgAAAAoAAkAAAABAAkAAAAoAAkAAAACAAgAAAAoAAkAAAACAAkAAAAoAAkAAAADAAgAAAAoAAkAAAADAAkAAAAoAAkAAAAEAAgAAAAoAAkAAAAEAAkAAAAoAAkAAAAFAAgAAAAoAAkAAAAFAAkAAAAoAAkAAAAGAAgAAAAoAAkAAAAGAAkAAAAoAAkAAAAHAAgAAAAoAAkAAAAHAAkAAAAoAAkAAAAIAAgAAAAoAAkAAAAIAAkAAAAoAAkAAAAJAAgAAAAoAAkAAAAJAAkAAAAoAAkAAAAKAAgAAAAoAAkAAAAKAAkAAAAoAAkAAAALAAgAAAAoAAkAAAALAAkAAAAoAAkAAAD5////AAAoAAkAAAD5/wAAAAAoAAkAAAD6////AAAoAAkAAAD6/wAAAAAoAAkAAAD7////AAAoAAkAAAD7/wAAAAAoAAkAAAD8////AAAoAAkAAAD8/wAAAAAoAAkAAAD5/wEAAAAoAAkAAAD5/wIAAAAoAAkAAAD5/wMAAAAoAAkAAAD5/wQAAAAoAAkAAAD5/wUAAAAoAAkAAAD5/wYAAAAoAAkAAAD5/wcAAAAoAAkAAAD6/wEAAAAoAAkAAAD6/wIAAAAoAAkAAAD6/wMAAAAoAAkAAAD6/wQAAAAoAAkAAAD6/wUAAAAoAAkAAAD6/wYAAAAoAAkAAAD6/wcAAAAoAAkAAAA=")
tile_set = ExtResource("1_fpimf")

[node name="ObjectLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD7/wEAAAAZAAcAAAD7/wIAAAAVAAcAAAD7/wMAAAAVAAcAAAD7/wQAAAAbAAcAAAD7/wUAAAAXAAcAAAD7/wYAAAAXAAcAAAD7/wcAAAAVAAcAAAD8/wcAAAAVAAcAAAD9/wcAAAAVAAcAAAD+/wcAAAAbAAcAAAD//wcAAAAVAAcAAAAAAAcAAAAVAAcAAAABAAcAAAAZAAcAAAACAAcAAAAZAAcAAAADAAcAAAAVAAcAAAAEAAcAAAAXAAcAAAAFAAcAAAAXAAcAAAAGAAcAAAAXAAcAAAAHAAcAAAAbAAcAAAAIAAcAAAAXAAcAAAAJAAcAAAAbAAcAAAAKAAcAAAAXAAcAAAALAAcAAAAVAAcAAAALAAEAAAAXAAcAAAALAAIAAAAVAAcAAAALAAMAAAAbAAcAAAALAAQAAAAVAAcAAAALAAUAAAAZAAcAAAALAAYAAAAXAAcAAAAGAAEAAAAXAAcAAAAHAAEAAAAXAAcAAAAIAAEAAAAXAAcAAAAJAAEAAAAbAAcAAAAKAAEAAAAVAAcAAAD8/wMAAAAVAAcAAAD9/wMAAAAXAAcAAAD+/wMAAAAbAAcAAAD//wMAAAAVAAcAAAAAAAMAAAAbAAcAAAABAAMAAAAVAAcAAAACAAMAAAAbAAcAAAADAAMAAAAbAAcAAAAEAAMAAAAXAAcAAAAFAAMAAAAbAAcAAAAGAAMAAAAVAAcAAAD8/wEAAAAXAAcAAAD8/wIAAAAZAAcAAAAGAAIAAAAbAAcAAAD4//7/AAAbAAcAAAD4////AAAbAAcAAAD4/wAAAAAVAAcAAAD4/wEAAAAVAAcAAAD4/wIAAAAXAAcAAAD4/wMAAAAZAAcAAAD4/wQAAAAbAAcAAAD4/wUAAAAZAAcAAAD4/wYAAAAZAAcAAAD4/wcAAAAVAAcAAAD4/wgAAAAZAAcAAAD4/wkAAAAVAAcAAAD4/woAAAAZAAcAAAD5/woAAAAbAAcAAAD6/woAAAAVAAcAAAD7/woAAAAVAAcAAAD8/woAAAAVAAcAAAD9/woAAAAZAAcAAAD+/woAAAAZAAcAAAD//woAAAAZAAcAAAAAAAoAAAAbAAcAAAABAAoAAAAVAAcAAAACAAoAAAAZAAcAAAADAAoAAAAVAAcAAAAEAAoAAAAXAAcAAAAFAAoAAAAZAAcAAAAGAAoAAAAZAAcAAAAHAAoAAAAZAAcAAAAIAAoAAAAbAAcAAAAJAAoAAAAbAAcAAAAKAAoAAAAbAAcAAAALAAoAAAAZAAcAAAAMAAoAAAAVAAcAAAANAAoAAAAbAAcAAAAOAAoAAAAZAAcAAAAOAP7/AAAXAAcAAAAOAP//AAAbAAcAAAAOAAAAAAAZAAcAAAAOAAEAAAAVAAcAAAAOAAIAAAAXAAcAAAAOAAMAAAAVAAcAAAAOAAQAAAAZAAcAAAAOAAUAAAAbAAcAAAAOAAYAAAAVAAcAAAAOAAcAAAAXAAcAAAAOAAgAAAAZAAcAAAAOAAkAAAAXAAcAAAAGAP7/AAAbAAcAAAAHAP7/AAAXAAcAAAAIAP7/AAAbAAcAAAAJAP7/AAAbAAcAAAAKAP7/AAAVAAcAAAALAP7/AAAbAAcAAAAMAP7/AAAVAAcAAAANAP7/AAAVAAcAAAAGAPz/AAAbAAcAAAAGAP3/AAAbAAcAAAD8//z/AAAZAAcAAAD9//z/AAAbAAcAAAD+//z/AAAZAAcAAAD///z/AAAZAAcAAAAAAPz/AAAbAAcAAAABAPz/AAAZAAcAAAACAPz/AAAVAAcAAAADAPz/AAAXAAcAAAAEAPz/AAAXAAcAAAAFAPz/AAAbAAcAAAD8//3/AAAbAAcAAAD8//7/AAAXAAcAAAD5//7/AAAXAAcAAAD6//7/AAAXAAcAAAD7//7/AAAVAAcAAAADAP//AAA2AAsAAAA=")
tile_set = ExtResource("1_fpimf")

[node name="Player" parent="." instance=ExtResource("2_0wj4k")]
position = Vector2(64, -16)

[node name="Camera" type="Camera2D" parent="Player"]
scale = Vector2(0.5, 0.5)

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="BlackFrame" parent="CanvasLayer" instance=ExtResource("3_fvacq")]
visible = false

[node name="testObject2" type="StaticBody2D" parent="."]
script = ExtResource("4_0wj4k")
object_stats = SubResource("Resource_etlrv")

[node name="interactable" parent="testObject2" instance=ExtResource("6_hsn05")]

[node name="CollisionShape2D2" type="CollisionShape2D" parent="testObject2/interactable"]
position = Vector2(112, -16)
shape = SubResource("RectangleShape2D_tkjml")

[node name="CollisionShape2D" type="CollisionShape2D" parent="testObject2"]
position = Vector2(112, -16)
shape = SubResource("RectangleShape2D_tkjml")

[connection signal="movePlayerToLadder" from="testObject2" to="Player" method="_on_test_object_2_move_player_to_ladder"]
[connection signal="showBlackFrame" from="testObject2" to="CanvasLayer/BlackFrame" method="_on_object_show_black_frame"]
